# Data Model: AI-Robot Brain (NVIDIA Isaac™)

## Isaac Sim Data Models

### Simulation Environment Entity
- **Fields**:
  - environmentId: string (unique identifier for the simulation environment)
  - name: string (human-readable name)
  - description: string (detailed description of the environment)
  - physicsProperties: PhysicsProperties object (gravity, friction, etc.)
  - robotModels: RobotModel[] (list of robot models in the environment)
  - sensorConfigurations: SensorConfiguration[] (sensor setup for the environment)
  - lighting: LightingConfiguration object (lighting setup)
  - assets: string[] (file paths to assets used in the environment)
- **Relationships**:
  - Contains multiple RobotModel entities
  - Contains multiple SensorConfiguration entities
- **Validation Rules**:
  - environmentId must be unique
  - name and description are required fields
  - physicsProperties must be valid physics parameters
- **State Transitions**:
  - Created → Active (when simulation is running)
  - Active → Paused (when simulation is paused)
  - Paused → Active or Stopped
  - Active → Stopped (when simulation ends)

### Robot Model Entity
- **Fields**:
  - modelId: string (unique identifier for the robot model)
  - name: string (name of the robot model)
  - urdfPath: string (path to the URDF file defining the robot)
  - sdfPath: string (path to the SDF file defining the robot)
  - jointConfigurations: JointConfiguration[] (configurations for robot joints)
  - kinematicProperties: KinematicProperties object (kinematic details)
  - dynamicProperties: DynamicProperties object (dynamic details)
- **Relationships**:
  - Belongs to one SimulationEnvironment entity
  - Contains multiple JointConfiguration entities
- **Validation Rules**:
  - modelId must be unique
  - urdfPath or sdfPath must be provided
  - kinematicProperties must be valid kinematic parameters

### Sensor Configuration Entity
- **Fields**:
  - sensorId: string (unique identifier for the sensor)
  - sensorType: string (type of sensor - camera, lidar, imu, etc.)
  - mountPoint: Vector3 (position of sensor on the robot)
  - orientation: Quaternion (orientation of the sensor)
  - parameters: SensorParameters object (specific parameters for the sensor)
  - outputFormat: string (format of sensor output data)
- **Relationships**:
  - Belongs to one SimulationEnvironment entity
- **Validation Rules**:
  - sensorId must be unique within the environment
  - sensorType must be a valid sensor type
  - mountPoint and orientation must be valid 3D coordinates

## Isaac ROS Perception Data Models

### Perception Pipeline Entity
- **Fields**:
  - pipelineId: string (unique identifier for the pipeline)
  - name: string (name of the perception pipeline)
  - description: string (description of the pipeline)
  - vslamAlgorithm: string (the VSLAM algorithm used)
  - parameters: VSLAMParameters object (configuration for the algorithm)
  - inputSource: string (source of sensor data)
  - outputFormat: string (format of perception output)
- **Relationships**:
  - Processes data from Isaac Sim sensors
- **Validation Rules**:
  - pipelineId must be unique
  - vslamAlgorithm must be a supported algorithm
  - inputSource must be a valid Isaac Sim sensor

### Visual Map Entity
- **Fields**:
  - mapId: string (unique identifier for the map)
  - name: string (name of the map)
  - origin: Vector3 (origin point of the map)
  - resolution: float (resolution of the map in meters per pixel)
  - width: int (width of the map in pixels)
  - height: int (height of the map in pixels)
  - data: uint8[] (array of occupancy values)
  - features: FeaturePoint[] (list of visual features in the map)
  - poseGraph: PoseGraph (graph of robot poses)
- **Relationships**:
  - Generated by PerceptionPipeline entity
- **Validation Rules**:
  - mapId must be unique
  - resolution must be positive
  - width and height must be positive integers
  - data length must match width * height

### Feature Point Entity
- **Fields**:
  - featureId: string (unique identifier for the feature)
  - position: Vector3 (3D position of the feature)
  - descriptor: float[] (descriptor vector for the feature)
  - trackingStatus: string (status of the feature tracking)
  - observations: Observation[] (list of observations of this feature)
- **Relationships**:
  - Belongs to VisualMap entity
- **Validation Rules**:
  - featureId must be unique within the map
  - position must be valid 3D coordinates

## Nav2 Navigation Data Models

### Navigation Goal Entity
- **Fields**:
  - goalId: string (unique identifier for the navigation goal)
  - targetPose: Pose (target position and orientation)
  - tolerance: float (acceptable tolerance for reaching the goal)
  - frameId: string (coordinate frame of the goal)
  - priority: int (priority level of the goal)
  - status: string (current status of the goal)
- **Relationships**:
  - Associated with a NavigationPlan
- **Validation Rules**:
  - goalId must be unique
  - targetPose must be valid pose
  - tolerance must be non-negative

### Navigation Plan Entity
- **Fields**:
  - planId: string (unique identifier for the navigation plan)
  - goals: NavigationGoal[] (list of navigation goals)
  - globalPlan: Path (the global path generated by the global planner)
  - localPlan: Path (the local path updated by the local planner)
  - costmap: Costmap (costmap used for planning)
  - plannerStatus: string (status of the planner)
- **Relationships**:
  - Contains multiple NavigationGoal entities
  - Uses Costmap for obstacle awareness
- **Validation Rules**:
  - planId must be unique
  - goals list must not be empty
  - globalPlan must be a valid path

### Path Entity
- **Fields**:
  - pathId: string (unique identifier for the path)
  - poses: Pose[] (array of poses that make up the path)
  - frameId: string (coordinate frame of the path)
  - sourceMap: string (map from which the path was generated)
- **Relationships**:
  - Generated by NavigationPlan
- **Validation Rules**:
  - pathId must be unique
  - poses array must not be empty
  - all poses must be valid

## Humanoid Movement Data Models

### Movement Pattern Entity
- **Fields**:
  - patternId: string (unique identifier for the movement pattern)
  - name: string (name of the movement pattern)
  - description: string (description of the movement)
  - jointTrajectories: JointTrajectory[] (joint trajectories for the movement)
  - balanceConstraints: BalanceConstraints object (balance constraints for the movement)
  - gaitType: string (type of gait if applicable)
- **Relationships**:
  - Associated with HumanoidModel
- **Validation Rules**:
  - patternId must be unique
  - jointTrajectories must define a valid movement
  - gaitType must be a valid gait type if specified

### Balance Constraint Entity
- **Fields**:
  - constraintId: string (unique identifier for the constraint)
  - constraintType: string (type of balance constraint)
  - parameters: object (parameters for the constraint)
  - activationThreshold: float (threshold for activating the constraint)
- **Relationships**:
  - Belongs to MovementPattern
- **Validation Rules**:
  - constraintId must be unique
  - constraintType must be valid
  - activationThreshold must be a positive value